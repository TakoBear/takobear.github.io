<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Bear 實驗室: iOS 7 SDK 基本整理 [給開發人員]</title>
  <meta name="description" content="iOS 7 發佈GM版本到現在也過了將近一個月10/25台灣多數人將要獲得5s, 這對開發者而言真是一場人倫慘劇...今天Bear小編也會開始多放些有關的介紹, 希望能幫助同行開發者朋友!很多人不清楚為什麼升到iOS 7後一堆App都會瘋狂閃退一連串的App更新又是為了什麼理由很簡單: 因為以前的程式在iOS7 ...">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="/css/blog.css">
  <link rel="stylesheet" href="/css/paginate.css">
  <link rel="canonical" href="http://www.takobear.tw/2014/01/12/bear-ios-7-sdk/">
  <link rel="alternate" type="application/rss+xml" title="TAKOBEAR" href="http://www.takobear.tw/feed.xml">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">TAKOBEAR</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
          <a class="page-link" href="/categories/">
            <i class="fa fa-tags"></i> 分類
          </a>

          <a class="page-link" href="/feed.xml">
            <i class="fa fa-rss-square"></i> RSS
          </a>
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Bear 實驗室: iOS 7 SDK 基本整理 [給開發人員]</h1>
    <p class="post-meta"><time datetime="2014-01-12T20:37:38+08:00" itemprop="datePublished">Jan 12, 2014</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <div>
<div class="wsite-image wsite-image-border-none"><a><img src="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/8368074_orig.jpeg" alt="图片" /></a>
<div></div>
</div>
</div>
<div class="paragraph">iOS 7 發佈GM版本到現在也過了將近一個月
10/25台灣多數人將要獲得5s, 這對開發者而言真是一場人倫慘劇...
今天Bear小編也會開始多放些有關的介紹, 希望能幫助同行開發者朋友!</div>
<div><!--BLOG_SUMMARY_END--></div>
<div class="paragraph">很多人不清楚為什麼升到iOS 7後一堆App都會瘋狂閃退
一連串的App更新又是為了什麼
理由很簡單: 因為以前的程式在iOS7 不相容!!!!! 這就要等每個開發人員去努力調整了, 不過小公司基本上有可能無法有資源再去維護, 這點也只能請大眾擔待了...Bear小編這次做了一些測試, 有大陸網友整理了相關內容
部分內容未經測試的項目則只有用文字來呈現喔!

</div>
<div class="paragraph"><span style="color: #fd0a0a; font-size: x-large;">1. 全新UI設計 - UIKit</span>大家以為iOS 7 UI更新只是設計師需要煩惱的問題
但是有這麼簡單嗎?
如果這麼簡單小編前陣子就不需要在公司趕工了(泣)

基本上兩個重點:
1. iOS 7 新界面需要設計師重新構思適合iOS 7 的操作範圍與情境模式
(範例: <a title="" href="http://www.takobear.weebly.com/12/post/2013/08/macapp-mac-app-evernote-wunderlist.html" target="_blank">Evernote</a> 在iOS 7的重大更新)
2. 工程師要重新研究SDK內容, 確認有無SDK已經不可使用的問題
(範例: UIAlertView不再能客製化)

Apple提供了document給設計師們參考這次的更動, 不過是需要開發者帳號才能看的喔!
(<a title="" href="https://developer.apple.com/library/ios/design/index.html#//apple_ref/doc/uid/TP40013289" target="_blank">Apple 設計資源</a>)

總結而言呢, 改變幾個重點:

1. Status Bar 與NavigationBar :  兩者的內容呈現不再受限了! 兩者會用相同近似的顏色來呈現
這點也連帶會影響某些元件在UI呈現上預設的字體顏色, 需要額外增加設定才能修改!

</div>
<div>
<div></div>
<div id="596551545299849479-gallery" class="imageGallery">
<div id="596551545299849479-imageContainer0">
<div id="596551545299849479-insideImageContainer0">
<div class="galleryImageBorder">
<div class="galleryImageHolder">
<div class="galleryInnerImageHolder"><a href="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/8855992_orig.png" rel="lightbox[gallery596551545299849479]"><img class="galleryImage" src="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/8855992.png" alt="" /></a></div>
</div>
</div>
</div>
</div>
<div id="596551545299849479-imageContainer1">
<div id="596551545299849479-insideImageContainer1">
<div class="galleryImageBorder">
<div class="galleryImageHolder">
<div class="galleryInnerImageHolder"><a href="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/6107777_orig.png" rel="lightbox[gallery596551545299849479]"><img class="galleryImage" src="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/6107777.png" alt="" /></a></div>
</div>
</div>
</div>
</div>
&nbsp;

</div>
<div></div>
</div>
<div class="paragraph">2. UIBarItem 的按鈕基本上都以文字化呈現, 過去有的邊框, 擬物化設計都沒有了, 而是以文字的形式呈現</div>
<div>
<div></div>
<div id="356265667615968099-gallery" class="imageGallery">
<div id="356265667615968099-imageContainer0">
<div id="356265667615968099-insideImageContainer0">
<div class="galleryImageBorder">
<div class="galleryImageHolder">
<div class="galleryInnerImageHolder"><a href="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/2568336_orig.png" rel="lightbox[gallery356265667615968099]"><img class="galleryImage" src="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/2568336.png" alt="" /></a></div>
</div>
</div>
</div>
</div>
<div id="356265667615968099-imageContainer1">
<div id="356265667615968099-insideImageContainer1">
<div class="galleryImageBorder">
<div class="galleryImageHolder">
<div class="galleryInnerImageHolder"><a href="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/9149873_orig.png" rel="lightbox[gallery356265667615968099]"><img class="galleryImage" src="http://www.takobear.weebly.com/uploads/1/9/9/7/19975491/9149873.png" alt="" /></a></div>
</div>
</div>
</div>
</div>
&nbsp;

</div>
<div></div>
</div>
<div class="paragraph">3.開啓App的時候也可以自制動畫了, 這次可是從手機的桌面倒所在位置的期間內也能調用某些動畫效果!
不過可能也是這種原因造成某些人不適想吐吧....其他還有包含字體顏色的演算法計算,
每個元件增加的tintColor問題,
UIViewController間過場動畫的設定, 說這次更動最多的部分是UIKit一點也不為過!

<span style="color: #eb0b0b; font-size: x-large;"><strong>2. 動力學概念 - UIKit Dynamics</strong></span>

同樣屬於UIKit的更動部分, 這次增加的UIDynamicItem的委派protocol可以增加了力學模型
基本上是給UIView有關的所有物件使用,也就是說可以在任何地方制定行為,
任何物件基本上都能有動力學特效效果!! 只是UIKit部分影響最多!

動力學的概念,也就是把重力, 加速度等地呈現方式給導入UI中
這點來說以前也能透過其他third party 來實作, 只是Apple把他抽回去自己做了一套!
<ul>
	<li>UIAttachmentBehavior 可以連接兩個實作UIDynmaic的物件(一個處理移動中的物件, 一個跟隨移動中的物件)</li>
	<li>UICollisionBehavior 指定邊界, 使兩個物件有碰撞效果</li>
	<li>UIGravityBehavior 這最單純了! 增加重力效果</li>
	<li>UIPushBehavior 增加物件推力</li>
	<li>UISnapBehavior 增加附著點, 有點像是畫掛在牆上搖曳的感覺</li>
</ul>
大家有發現嗎?

這些效果基本上就跟知名的第三方資源庫 <a title="" href="http://box2d.org/" target="_blank">Box2d</a> 在對遊戲的2D物理引擎內容相似
動態UI, Sprite Kit基本上都可以讓UIKit做遊戲開發變得更簡單!
另外正因為UIDynamicItem不限定於UIKit, 因此連3D特效也未必是件困難的事!!!

傳統上會使用Cocos2D+Box2D兩套來實現遊戲做法, 現在iOS 7 可以考慮使用UIKit + SpriteKit的組合囉!

<strong><span style="color: #fa1111; font-size: x-large;">3.  Sprite Kit Framework</span></strong>


這邊算是小編感到很驚艷的一點
也就是iOS 終於建立了自己的精靈系統!!
Sprite Kit的概念包含使用硬體加速的方式來模擬物理引擎, 也就是說
iOS SDK本身俱備了一個較為完整的2D遊戲引擎,
讓iOS 遊戲開發者可以更著重在遊戲的設計與實作
<strong><span style="color: #ed0f0f;">(Bear沒有詳細測試該內容, 對於他的效能與傳統third party組合還需要檢驗!)</span></strong>


SpriteKit主要以場景(Scene)來區分, 可以包含貼圖, 物件, 影像, 外觀形狀, 粒子效果
還有包含Coreimage的iOS 濾鏡效果喔!!

Xcode本身也提供了測試粒子系統與貼圖Atlas的功能, 這也是Xcode 5 的突破點之一!

<span style="color: #f60e0e; font-size: x-large;"><strong>4.  Game Controller Framework</strong></span>


這個則是為了以MFi (Made-for-iPhone/iPod/iPad) 所對應的外部硬體框架
讓使用者可以連接控制對應的遊戲硬體
大家還記得這次在WWDC公佈的<a title="" href="http://chinese.engadget.com/tag/AnkiDrive/" target="_blank">AnkiDrive</a>嗎? 相信這樣的概念一定是從這裡來的
小編則覺得, 這個框架不見得一定要用在遊戲上
跟外部設備的互動應該能透過這個framework達到更有效的互動設計!!!

GameCenter實在是個很失敗的設計...這邊小編也不多談了(嘆)

<strong><span style="color: #f50909; font-size: x-large;">5. 多工Multi-Task的強化</span></strong>

基本上Bear認為這個部分也是相當重要的革新!
其實在這一點設計上, 理應iOS 7 在省電效果會要比過去來得好才對
重點包含
<ul>
	<li>UIBackgroundMode : 可以在plist部分設定他的Mode或是在AppDelegate中修改他的數值以fetch方式來更新背景的資料, AppDelegate中增加兩項method才能完成設定setMinimumBackgroundFetchInterval:以及使用application:performFetchWithCompletionHandler:處理完成的下載項目, 目前可能只有雜誌類可以取得此類權限, 或是特定的社群網站(如FB等), 另外開發者只能決定最小更新間隔, 但是會不會順利更新到還是看iOS 系統本身了...</li>
</ul>
<ul>
	<li>以前只能透過通知中心告知使用者進入App下載, 現在可以發出通知後繼續在背景模式下載, 把UIBackgroundModes設定為remote-notification，再實現application:didReceiveRemoteNotification:fetchCompletionHandler:</li>
</ul>
要實現的話, 必須使用新的Class: NSURLSession, 他其實是在NSURLConnection上增加了對背景的處理, API1部分也相當單純, 有機會再介紹!

<strong><span style="color: #f40c0c; font-size: x-large;">6. AirDrop</span></strong>

AirDrop也是iOS 7的重頭戲! 雖然只支援iPhone 5以上機種...
在Mac OS X上這點非常受歡迎
小編跟朋友工作時也會用它來分享檔案或是照片, 某些data等
其實他並不需要特別去實作內容, 而是直接被涵蓋在UIActivityViewController內
也沒有單獨的API可以使用喔!!!!

透過實現UIActivityItemSource可以進行發送, 如果不使用UIActivityViewController了
不過也還是有App可以實作類似的做法喔! 透過Samba, Bonjour或是一般的UDP方式都能做到
這邊小編先不做介紹了!

最後結合自己定義的檔案類型, 也可以輕易地實現在背景收到特定檔案後以自己的App開啓
算是增加用戶的方式. 但是現在看起來幾乎是所有註冊的文件都能打開檔案,
例如說Evernote or Dropbox, 這邊做法是因為開啓檔案時會詢問所有能支援該檔案的類型
這樣的使用者體驗實在不太好就是了

<strong><span style="color: #ed0a0a; font-size: x-large;">7. 地圖</span></strong>

Apple持續在推進在地圖上的體驗, 如果版友有上LinkedIn的話,
可以發現他正在大舉找Map開發的人員喔!!

地圖最困難的部分大家應該都瞭解還是在數據的建立, 這點Apple要與Google競爭短時間內大家目前也都相當不看好的....
不過還是可以看一下有新增哪些部分囉!
<ul>
	<li>MKMapCamera，基本上類似Google街景可以旋轉3D方向....</li>
	<li>MKDirections 從Apple後端取得地圖路徑後直接繪製在地圖上, 基本上影響的是小型地圖商, 對Google影響不大</li>
	<li>MKGeodesicPolyline 這是畫一個符合地球曲率的曲線在地圖, 主要是效果。</li>
	<li>MKMapSnapshotter 主要可以用在打卡上</li>
	<li>更動了overlay的表現方式</li>
</ul>
<strong><span style="color: #ed1b1b; font-size: x-large;">8. Inter-App Audio </span></strong>

小編認為這也是這次更動中最好玩的一部分!!
每一個應用程式間的AudioUnit加入了一項能力:
在同一台iDevice中, 可以讓不同的應用程式發送MIDI命令與傳送音訊的能力!!

這樣可以做到些很有趣的體驗, 舉例來說:
在A應用程式中使用AudioUnit進行錄音, 之後在B應用程式中打開進行處理
在音訊應用程式宣告一個AURemoteIO就可以標記為Inter-App
在對應的B應用程式中使用接口獲取音訊進行處理

這樣的概念很好的點在於突破了App間彼此的共享! 這也是過去沒有jB的iPhone基本上無法做到的一點
但是AudioUnit操作上屬於低階API, 一般的開發者不見得能駕馭 (如同當初的CFNetWork一樣)
恐怕需要在等更多OpenSource出現後才能增加開發數量!

<strong><span style="color: #f50909; font-size: large;">9. P2P Peer-to-Peer Connectivity</span></strong>

基本上可以當成AirDrop不能直接使用的替代方案,
是缺點也是優點的部分是開發者們需要自己實作內容!!
MulitpeerConnectivity framewrok主要有兩點
<ul>
	<li>尋找外部設備</li>
	<li>連接外部設備</li>
</ul>
(不知道大家有沒有發現這兩點很<a title="" href="http://www.takobear.weebly.com/12/post/2013/07/ble-corebluetooth-framework.html" target="_blank">類似CoreBlueTooth FrameWork呢? 不清楚的可以參考前文</a>)

不過這一切是不需要有網路連線就能進行的! 看來Apple正在逐漸放開對於檔案共享的限制
不過詳細實作內容還是被封裝起來的喔!

<strong><span style="color: #f30505; font-size: large;">10. Store Kit Framework</span></strong>
StoreKit 在in app purchase部分採取了新的訂單系統,
可以實現對訂單的本機驗證, 主要是對應In-App-Purchase的破解和可能驗證失敗造成進而造成更新失敗的問題
Apple希望藉此減少這部分的實作流程,
雖然Apple希望減少破解的存在, 但是一旦iPhone被越獄, 被破解只是早晚的事情
不過對小型開發者來說仍然是個很好的開發點!

其他還有一些小更動, 比如說MessageUI內增加了附件按鈕, OpenGL ES 3.0的支援等等,
完整的iOS 7 特性可以<a title="" href="https://developer.apple.com/library/ios/releasenotes/General/WhatsNewIniOS/Articles/iOS7.html#//apple_ref/doc/uid/TP40013162-SW1" target="_blank">參考這篇連結</a>, 不過目前也需要開發者帳號才能看到內容喔!

最後一點比較值得欣慰的是Apple這次基本上沒什麼重要API被廢棄掉,
但這並不是說改動起來就很簡單.... 以上

<a title="" href="http://onevcat.com/2013/06/developer-should-know-about-ios7/" target="_blank">原文參考介紹</a>

喜歡這篇介紹嗎?
更多有趣消息請繼續關注Takobear!!

</div>
<div></div>
<div>
<div id="571480098886269758" class="wcustomhtml" align="left"><script async="">// < ![CDATA[

// ]]></script><!-- Takobear 728x90 --><ins class="adsbygoogle" data-ad-client="ca-pub-2505331387846610" data-ad-slot="6620496687"></ins><script>// < ![CDATA[
 (adsbygoogle = window.adsbygoogle || []).push({});
// ]]></script></div>
</div>

  </div>

</article>


<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.url = "http:\/\/www.takobear.tw\/2014\/01\/12\/bear-ios-7-sdk\/";
        this.page.identifier = "618 http:\/\/www.takobear.tw\/201702608526356260322804024687\/bear-ios-7-sdk";
    };

    (function() {
        var d = document, s = d.createElement('script');

        s.src = '//takobear.disqus.com/embed.js';

        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-2">
        <ul class="contact-list">
          <li>TAKOBEAR</li>
          <li><a href="mailto:takobearx@gmail.com">takobearx@gmail.com</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-1 footer-col-right">
        <ul class="social-media-list">
          
          <li>
            <a href="https://github.com/TakoBear">
  <span class="icon"><i class="fa fa-github fa-fw"></i></span>
  <span class="username">TakoBear</span>
</a>

          </li>
          

          
          <li>
            <a href="https://www.facebook.com/funnytechandnews">
  <span class="icon"><i class="fa fa-facebook fa-fw"></i></span>
  <span class="username">funnytechandnews</span>
</a>

          </li>
          
        </ul>
      </div>
    </div>

    <div class="footer-license">
      2013-2016 TakoBear. All rights reserved.
    </div>
  </div>

</footer>


  </body>

</html>
